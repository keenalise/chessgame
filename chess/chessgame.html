<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â™” KeenChess â™›</title>
    <link rel="stylesheet" href="chessgame.css">
</head>
<body>
    <div class="flip-board-container">
        <button id="flipBoardBtn" class="flip-board-btn auto-mode" onclick="toggleFlipMode()">
            <span class="flip-icon">ðŸ”„</span>
            <span id="flipBoardText">Auto Flip: ON</span>
        </button>
    </div>
    <div class="container">
        <h1 class="title">â™” KeenChess â™›</h1>
        
        <div class="info-panel">
            <div id="turnIndicator" class="turn-indicator">White's Turn</div>
            <div id="castlingInfo" class="castling-info">Castling: K Q k q</div>
            <div class="controls">
                <button class="btn btn-new" onclick="newGame()">New Game</button>
                <button class="btn btn-undo" onclick="undoMove()">Undo</button>
                <button class="btn btn-redo" onclick="redoMove()">Redo</button>
            </div>
        </div>

        <div class="game-area">
            <div class="board-container">
                <div id="chessboard" class="chessboard"></div>
            </div>

            <div class="move-history">
                <h3>Move History</h3>
                <div id="movesList" class="moves-list"></div>
                <button class="btn btn-clear" onclick="clearMoveHistory()" style="margin-top: 10px; width: 100%;">Clear History</button>
            </div>
        </div>

        <div id="statusBar" class="status-bar">Ready to play - Double-click king for castling</div>
    </div>

    <!-- Modals -->
    <div id="promotionModal" class="modal">
        <div class="modal-content">
            <h2>Pawn Promotion</h2>
            <p>Choose promotion piece:</p>
            <div class="promotion-pieces">
                <button class="promotion-btn" onclick="selectPromotion('queen')">Queen â™•</button>
                <button class="promotion-btn" onclick="selectPromotion('rook')">Rook â™–</button>
                <button class="promotion-btn" onclick="selectPromotion('bishop')">Bishop â™—</button>
                <button class="promotion-btn" onclick="selectPromotion('knight')">Knight â™˜</button>
            </div>
        </div>
    </div>

    <div id="castlingModal" class="modal">
        <div class="modal-content">
            <h2>Castle</h2>
            <p>Choose castling side:</p>
            <div class="modal-buttons">
                <button id="kingsideCastle" class="btn" style="background: #9b59b6;" onclick="selectCastle('kingside')">Kingside (O-O)</button>
                <button id="queensideCastle" class="btn" style="background: #9b59b6;" onclick="selectCastle('queenside')">Queenside (O-O-O)</button>
                <button class="btn btn-clear" onclick="closeCastlingModal()">Cancel</button>
            </div>
        </div>
    </div>

    <!-- External JS -->
    <script src="chessgame.js"></script>
</body>
</html>